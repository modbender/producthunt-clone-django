{% extends 'layout.html' %}

{% block ehead %}
<title>Add Product</title>
{% endblock %}

{% block body %}

<main role="main">
  <div class="container">

    <div class="my-5 py-5 d-flex flex-row justify-content-center rounded border shadow">

      <form class="w-75" action="{% url 'add' %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <script type="text/javascript">
          function getSlug(){
            var val = document.getElementById("title").value.replace(/[^a-zA-Z ]/g, "");
            document.getElementById("slug").value = val.toLowerCase().split(" ").join("-");
          }
        </script>
        <h2 class="text-center text-primary">Add Product</h2>
        <hr>

        <div class="form-group">
          <label for="title">Title : </label>
          <input id="title" class="form-control" type="text" name="title" onkeyup="getSlug()" maxlength="255">
        </div>

        <div class="form-group">
          <label for="slug">Slug : </label>
          <input id="slug" class="form-control" type="text" name="slug" maxlength="50">
          <small class="text-muted">Best practice is to not change slug unless its giving an error.</small>
        </div>

        <div class="form-group">
          <div class="custom-file">
            <input id="ico" class="custom-file-input" type="file" name="icon">
            <label class="custom-file-label" for="ico">Add Icon</label>
          </div>
        </div>

        <div class="form-group">
          <div class="custom-file">
            <input id="img" class="custom-file-input" type="file" name="image">
            <label class="custom-file-label" for="img">Add Image</label>
          </div>
        </div>

        <div class="form-group">
          <label for="desc">Description : </label>
          <textarea id="desc" class="form-control" name="desc" rows="8" cols="80"></textarea>
        </div>

        <div class="form-group">
          <label for="url">URL : </label>
          <input id="url" class="form-control" type="url" name="url">
        </div>

        <div class="form-group">
          <label for="votes">Votes : </label>
          <input id="votes" class="form-control" type="number" min="1" max="1" name="votes" value="0" readonly>
        </div>

        <input class="btn btn-primary float-right" type="submit" value="Add Product">
      </form>
    </div>

  </div>
</main>

{% endblock %}
